<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÁÆ°ÁêÜÁ≥ªÁªü ¬∑ È¶ñÈ°µ</title>
  <style>
    :root{
      /* Align tone with index.html */
      --bg:#f4f6fb;
      --card:#ffffff;
      --text:#1f2a3d;
      --muted:#6b7686;
      --border:#e5e9f2;

      --brand:#1c7bff;
      --brand2:#2e7bff;

      --sidebar-w: 260px;
      --sidebar-w-collapsed: 68px;

      --shadow: 0 12px 28px rgba(31, 53, 90, .08);
      --radius: 14px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "PingFang SC",
                   "Hiragino Sans GB", "Microsoft YaHei", Arial, "Noto Sans", "Apple Color Emoji",
                   "Segoe UI Emoji";
      background:var(--bg);
      color:var(--text);
    }

    .app{
      min-height:100vh;
      display:grid;
      grid-template-columns: var(--sidebar-w) 1fr;
      transition: grid-template-columns .25s ease;
    }
    body.sidebar-collapsed .app{ grid-template-columns: var(--sidebar-w-collapsed) 1fr; }

    /* Sidebar */
    .sidebar{
      background: rgba(255,255,255,.86);
      backdrop-filter: blur(10px);
      color:var(--text);
      padding:18px 16px;
      position:sticky;
      top:0;
      height:100vh;
      border-right: 1px solid var(--border);
      display:flex;
      flex-direction:column;
      overflow:visible;
      min-width:0;
      z-index: 20;
    }
    .brand{
      display:flex;
      align-items:center;
      justify-content:flex-start;
      gap:12px;
      padding:8px 10px 18px;
    }
    .brand-left{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:0;
    }
    .brand .logo{
      width:40px; height:40px;
      border-radius:12px;
      background: linear-gradient(135deg, rgba(94,144,255,.95), rgba(46,123,255,.95));
      display:grid;
      place-items:center;
      box-shadow: 0 12px 22px rgba(46,123,255,.22);
      font-weight:800;
      letter-spacing:.5px;
      color:#fff;
    }
    .brand h1{
      font-size:18px;
      margin:0;
      line-height:1.2;
      font-weight:800;
    }
    .brand small{
      display:block;
      color:var(--muted);
      font-weight:600;
      margin-top:2px;
    }

    /* Sidebar edge handle (replaces the blue button in header) */
    .sidebar-handle{
      position:absolute;
      top:50%;
      right:-12px;
      transform: translateY(-50%);
      width:24px;
      height:72px;
      border-radius: 14px;
      border:1px solid rgba(216,223,236,.95);
      background: rgba(255,255,255,.92);
      color:#6a7a92;
      display:grid;
      place-items:center;
      cursor:pointer;
      box-shadow: 10px 0 18px rgba(31,53,90,.08);
      transition: transform .12s ease, box-shadow .12s ease, border-color .15s ease;
      z-index: 30;
    }
    .sidebar-handle:hover{
      transform: translateY(calc(-50% - 1px));
      border-color: rgba(59,130,246,.22);
      box-shadow: 12px 0 22px rgba(31,53,90,.10);
    }
    .sidebar-handle:active{
      transform: translateY(-50%);
      box-shadow: 10px 0 18px rgba(31,53,90,.08);
    }
    .sidebar-handle:focus-visible{
      outline:none;
      box-shadow: 0 0 0 4px rgba(28,123,255,.14), 10px 0 18px rgba(31,53,90,.08);
      border-color: rgba(28,123,255,.35);
    }
    .handle-icon{
      width:14px;
      height:14px;
      display:block;
      transform-box: fill-box;
      transform-origin: center;
      transition: transform .2s ease;
    }
    .handle-icon path{
      fill:none;
      stroke:currentColor;
      stroke-width:2.8;
      stroke-linecap:round;
      stroke-linejoin:round;
    }
    body.sidebar-collapsed .handle-icon{ transform: rotate(180deg); }

    .nav{
      margin:0;
      padding:8px 6px;
      list-style:none;
      display:flex;
      flex-direction:column;
      gap:6px;
      flex: 1 1 auto;
      min-height: 0;
      overflow:auto;
    }

    .nav-item{ position:relative; }

    .nav-item a{
      display:flex;
      align-items:center;
      gap:10px;
      padding:12px 12px;
      border-radius:12px;
      color:#3b4a60;
      text-decoration:none;
      font-weight:700;
      font-size:14px;
      letter-spacing:.2px;
      opacity:.95;
      transition:.15s;
      border:1px solid rgba(216,223,236,.9);
      background: rgba(247,249,253,.92);
      position:relative;
    }
    .nav-item a:hover{
      background: rgba(59,130,246,.08);
      border-color: rgba(59,130,246,.18);
      transform: translateY(-1px);
    }
    .nav-item a.active{
      background: rgba(59,130,246,.12);
      border-color: rgba(59,130,246,.28);
      color:var(--text);
    }
    .nav-item a.active::before{
      content:"";
      position:absolute;
      left:-12px;
      top:10px;
      bottom:10px;
      width:3px;
      border-radius:3px;
      background: var(--brand);
    }

    .nav-icon{
      width:18px;
      height:18px;
      color:#6a7a92;
      flex:0 0 auto;
      display:block;
    }

    .nav-avatar{
      width:22px;
      height:22px;
      border-radius:999px;
      border:1px solid rgba(216,223,236,.95);
      background: radial-gradient(circle at 30% 30%, rgba(94,144,255,.35), rgba(46,123,255,.10) 45%, rgba(247,249,253,.92) 100%);
      display:grid;
      place-items:center;
      overflow:hidden;
      flex:0 0 auto;
      color:#5e90ff;
    }
    .nav-avatar svg{ width:14px; height:14px; display:block; }

    .nav-label{
      min-width:0;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* Collapsed sidebar behavior (like index.html) */
    body.sidebar-collapsed .sidebar{ overflow: visible; }
    body.sidebar-collapsed .nav{
      overflow: visible; /* avoid clipping tooltip */
    }
    body.sidebar-collapsed .nav-item a::after{
      z-index: 9999;
    }
    body.sidebar-collapsed .brand h1,
    body.sidebar-collapsed .brand small{ display:none; }
    body.sidebar-collapsed .brand{ justify-content:center; padding: 8px 0 18px; }
    body.sidebar-collapsed .brand-left{ justify-content:center; width:100%; }
    body.sidebar-collapsed .brand-text{ display:none; }
    body.sidebar-collapsed .nav-item a{ justify-content:center; padding: 12px 0; }
    body.sidebar-collapsed .nav-label{ display:none; }
    body.sidebar-collapsed .sidebar .footer{ display:none; }
    body.sidebar-collapsed .nav-item a{
      border:none;
      background:transparent;
      box-shadow:none;
      transform:none;
    }
    body.sidebar-collapsed .nav-item a:hover{
      background: rgba(59,130,246,.10);
      border-color: transparent;
      transform:none;
    }
    body.sidebar-collapsed .nav-item a.active{
      background: rgba(59,130,246,.14);
      border-color: transparent;
    }

    body.sidebar-collapsed .nav-item a::after{
      content: attr(data-title);
      position:absolute;
      left: calc(100% + 10px);
      top: 50%;
      transform: translateY(-50%);
      background: rgba(17,24,39,.92);
      color:#fff;
      font-size:12px;
      padding: 6px 8px;
      border-radius: 10px;
      white-space:nowrap;
      opacity:0;
      pointer-events:none;
      transition: opacity .12s ease;
      z-index: 999;
    }
    body.sidebar-collapsed .nav-item a:hover::after{ opacity:1; }

    /* Active icon tone */
    .nav-item a.active .nav-icon{ color: var(--brand); }
    .nav-item a.active .nav-avatar{ color: var(--brand); }
    .sidebar .footer{
      margin-top:auto;
      padding:10px 12px;
      border-top:1px solid var(--border);
      color:var(--muted);
      font-size:12px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    /* Main */
    .main{
      display:flex;
      flex-direction:column;
      min-width:0;
      min-height:0;
      overflow:hidden;
    }

    .topbar{
      background: rgba(255,255,255,.78);
      backdrop-filter: blur(10px);
      color:var(--text);
      padding:16px 22px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      position:sticky;
      top:0;
      z-index:10;
      border-bottom: 1px solid var(--border);
    }
    .topbar .title{
      font-size:18px;
      font-weight:900;
      letter-spacing:.2px;
      display:flex;
      align-items:center;
      gap:10px;
      white-space:nowrap;
    }
    .topbar .title span{
      font-weight:700;
      color:var(--muted);
      font-size:14px;
    }
    .top-actions{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:0;
    }
    .icon-btn{
      width:38px;height:38px;
      border-radius:12px;
      background: rgba(247,249,253,.95);
      border:1px solid rgba(216,223,236,.95);
      display:grid;
      place-items:center;
      cursor:pointer;
      position:relative;
      color:#405169;
      box-shadow: 0 10px 18px rgba(31,53,90,.06);
      transition: transform .12s ease, box-shadow .12s ease, background .15s ease, border-color .15s ease;
    }
    .icon-btn:hover{
      background: rgba(59,130,246,.08);
      border-color: rgba(59,130,246,.18);
      transform: translateY(-1px);
      box-shadow: 0 12px 22px rgba(31,53,90,.08);
    }
    .badge{
      position:absolute;
      top:6px; right:6px;
      width:16px;height:16px;
      border-radius:999px;
      background:#ff5b5b;
      display:grid;
      place-items:center;
      font-size:10px;
      font-weight:900;
      border:2px solid rgba(255,255,255,.92);
    }
    .avatar{
      display:flex;
      align-items:center;
      gap:10px;
      padding:6px 10px;
      border-radius:14px;
      background: rgba(247,249,253,.95);
      border:1px solid rgba(216,223,236,.95);
      white-space:nowrap;
      cursor:pointer;
    }
    .avatar .pic{
      width:30px;height:30px;border-radius:999px;
      background: radial-gradient(circle at 30% 30%, rgba(94,144,255,.55), rgba(46,123,255,.18) 55%, rgba(247,249,253,.95) 100%);
      border:2px solid rgba(28,123,255,.18);
    }
    .avatar strong{ font-size:13px; color:var(--text); }
    .avatar small{ display:block; font-size:11px; color:var(--muted); margin-top:2px; }

    .main-body{
      flex:1 1 auto;
      min-height:0;
      padding:22px;
      overflow:hidden;
    }

    .frame-card{
      height:100%;
      width:100%;
      border-radius: var(--radius);
      border:1px solid rgba(216,223,236,.95);
      background: rgba(255,255,255,.86);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .main-frame{
      width:100%;
      height:100%;
      border:0;
      display:block;
      background: transparent;
    }

    @media (max-width: 820px){
      .app{ grid-template-columns: 1fr; }
      .sidebar{ position:relative; height:auto; }
      .topbar{ position:relative; }
      .main-body{ padding:16px; }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-left">
          <div class="logo">M</div>
          <div class="brand-text">
            <h1>ÁÆ°ÁêÜÁ≥ªÁªü</h1>
            <small>Dashboard</small>
          </div>
        </div>
      </div>

      <ul class="nav" id="nav">
        <li class="nav-item">
          <a class="active" href="#home.html" data-src="home.html" data-title="‰∏ªÈ°µ" title="‰∏ªÈ°µ">
            <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 3 3 10.2V21h6v-6h6v6h6V10.2L12 3zm7 16h-2v-6H7v6H5v-8.1l7-5.4 7 5.4V19z"/>
            </svg>
            <span class="nav-label">‰∏ªÈ°µ</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="#match.html" data-src="match.html" data-title="Match" title="Match">
            <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M7 4h10a2 2 0 0 1 2 2v3H5V6a2 2 0 0 1 2-2zm-2 7h14v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7zm4 2v2h6v-2H9z"/>
            </svg>
            <span class="nav-label">Match</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="#songxinhistory.html" data-src="songxinhistory.html" data-title="ÈÄÅ‰ø°ÂéÜÂè≤" title="ÈÄÅ‰ø°ÂéÜÂè≤">
            <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 8a1 1 0 0 1 1 1v3.6l2.4 1.4a1 1 0 1 1-1 1.7l-3-1.8A1 1 0 0 1 11 13V9a1 1 0 0 1 1-1zm0-6a10 10 0 1 1-7.1 17.1 1 1 0 1 1 1.4-1.4A8 8 0 1 0 12 4a7.9 7.9 0 0 0-5.4 2.1H9a1 1 0 0 1 0 2H3V2a1 1 0 1 1 2 0v2.6A9.9 9.9 0 0 1 12 2z"/>
            </svg>
            <span class="nav-label">ÈÄÅ‰ø°ÂéÜÂè≤</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="#people.html" data-src="people.html" data-title="‰∫∫ÂëòÁÆ°ÁêÜ" title="‰∫∫ÂëòÁÆ°ÁêÜ">
            <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-4.4 0-8 2.2-8 5v1h16v-1c0-2.8-3.6-5-8-5z"/>
            </svg>
            <span class="nav-label">‰∫∫ÂëòÁÆ°ÁêÜ</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="#attendance.html" data-src="attendance.html" data-title="ËÄÉÂã§ÁÆ°ÁêÜ" title="ËÄÉÂã§ÁÆ°ÁêÜ">
            <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M7 2a1 1 0 0 1 1 1v1h8V3a1 1 0 1 1 2 0v1h1a3 3 0 0 1 3 3v13a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h1V3a1 1 0 0 1 1-1zm14 8H3v10a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V10zM5 6a1 1 0 0 0-1 1v1h16V7a1 1 0 0 0-1-1H5zm6 6h2v2h-2v-2zm-4 0h2v2H7v-2zm8 0h2v2h-2v-2z"/>
            </svg>
            <span class="nav-label">ËÄÉÂã§ÁÆ°ÁêÜ</span>
          </a>
        </li>
      </ul>

      <div class="footer">
        <span>v1.0</span>
        <span>¬© OKG</span>
      </div>

      <button class="sidebar-handle" type="button" id="collapseBtn" aria-expanded="true" title="Êî∂Ëµ∑/Â±ïÂºÄ">
        <svg class="handle-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M14 7l-5 5 5 5"></path>
        </svg>
      </button>
    </aside>

    <!-- Main -->
    <main class="main">
      <header class="topbar">
        <div class="title">
          Welcome back, Admin!
          <span>¬∑ ‰∏ªÈ°µÊ¶ÇËßà</span>
        </div>

        <div class="top-actions">
          <button class="icon-btn" aria-label="‰∏ä‰º†">
            ‚§¥
          </button>
          <button class="icon-btn" aria-label="ÈÄöÁü•">
            üîî
            <span class="badge">2</span>
          </button>
          <button class="icon-btn" aria-label="ÈÇÆ‰ª∂">
            ‚úâ
            <span class="badge">1</span>
          </button>

          <a class="avatar" href="#profile.html" data-src="profile.html" title="‰∏™‰∫∫‰ø°ÊÅØ" aria-label="‰∏™‰∫∫‰ø°ÊÅØ">
            <div class="pic"></div>
            <div>
              <strong>Admin</strong>
              <small>Á≥ªÁªüÁÆ°ÁêÜÂëò</small>
            </div>
          </a>
        </div>
      </header>

      <div class="main-body">
        <div class="frame-card">
          <iframe class="main-frame" id="mainFrame" src="home.html" title="‰∏ªÈ°µ"></iframe>
        </div>
      </div>
    </main>
  </div>

  <script>
    (function () {
      const btn = document.getElementById("collapseBtn");
      if (!btn) return;
      const KEY = "chat_sidebar_collapsed";

      const nav = document.getElementById("nav");
      const frame = document.getElementById("mainFrame");

      function setCollapsed(collapsed) {
        document.body.classList.toggle("sidebar-collapsed", collapsed);
        btn.setAttribute("aria-expanded", String(!collapsed));
        try { localStorage.setItem(KEY, collapsed ? "1" : "0"); } catch (e) {}
      }

      function readCollapsed() {
        try { return localStorage.getItem(KEY) === "1"; } catch (e) { return false; }
      }

      setCollapsed(readCollapsed());
      btn.addEventListener("click", () => {
        setCollapsed(!document.body.classList.contains("sidebar-collapsed"));
      });

      if (!nav || !frame) return;

      const links = Array.from(nav.querySelectorAll("a[data-src]"));

      function setActive(src) {
        for (const a of links) {
          a.classList.toggle("active", (a.getAttribute("data-src") || "") === src);
        }
      }

      function loadSrc(src) {
        if (!src) return;
        setActive(src);
        frame.src = src;
        frame.setAttribute("title", src);
      }

      function resolveFromHash() {
        const raw = (location.hash || "").replace(/^#/, "").trim();
        if (!raw) return null;
        const src = raw.split("?")[0].split("#")[0];
        return src || null;
      }

      function syncFromHash() {
        const src = resolveFromHash() || "home.html";
        loadSrc(src);
      }

      nav.addEventListener("click", (e) => {
        const a = e.target && e.target.closest ? e.target.closest("a[data-src]") : null;
        if (!a) return;
        e.preventDefault();
        const src = a.getAttribute("data-src");
        if (!src) return;
        if (location.hash !== "#" + src) location.hash = src;
        loadSrc(src);
      });

      document.addEventListener("click", (e) => {
        const a = e.target && e.target.closest ? e.target.closest("a.avatar[data-src]") : null;
        if (!a) return;
        e.preventDefault();
        const src = a.getAttribute("data-src");
        if (!src) return;
        if (location.hash !== "#" + src) location.hash = src;
        loadSrc(src);
      });

      window.addEventListener("hashchange", syncFromHash);
      syncFromHash();
    })();
  </script>
</body>
</html>
