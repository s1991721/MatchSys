<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="common.css">
  <link rel="stylesheet" href="components.css">
  <title>求案件</title>
    <style>
* {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
        }

        .page {
            max-width: 1280px;
            margin: 24px auto;
            padding: 0 20px 24px;
            display: grid;
            grid-template-columns: 7fr 5fr;
            gap: 16px;
        }
.split-left {
            display: grid;
            grid-template-rows: 1fr 240px;
            gap: 14px;
            min-height: 580px;
        }

        .date-input {
            max-width: 160px;
            padding-left: 10px;
        }

        .date-input.active {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(28, 123, 255, 0.12);
        }

        .search-input {
            width: 100%;
        }

        .item {
            padding: 10px 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid var(--line);
            cursor: pointer;
            transition: background 0.12s ease;
        }

        .item:last-child {
            border-bottom: none;
        }

        .item:hover {
            background: #edf3ff;
        }

        .item.active {
            background: #dbe7ff;
        }

        .item-main {
            flex: 1;
        }

        .empty {
            padding: 16px 12px;
            color: var(--muted);
            font-size: 13px;
            text-align: center;
        }

        .item-title {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 2px;
        }

        .item-desc {
            font-size: 13px;
            color: var(--muted);
        }

        .item-time {
            color: var(--muted);
            font-size: 12px;
            white-space: nowrap;
        }

        .detail {
            border: 1px solid var(--line);
            border-radius: 10px;
            padding: 12px 14px;
            background: #fafbfe;
            font-size: 14px;
            line-height: 1.7;
            color: #435065;
            overflow: auto;
        }

        .form {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .field {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .label {
            font-size: 13px;
            color: var(--muted);
        }

        .textarea {
            min-height: 140px;
            resize: vertical;
            line-height: 1.6;
        }

        .textarea:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(28, 123, 255, 0.12);
            background: #ffffff;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        @media (max-width: 1080px) {
            .page {
                grid-template-columns: 1fr;
            }

            .split-left {
                grid-template-rows: auto auto;
                min-height: auto;
            }

            .c-filter-grid {
                grid-template-columns: 1fr;
            }
        }
  </style>
</head>
<body>
    <div class="page">
        <section class="split-left">
            <div class="c-card">
                <h2 class="title c-panel-title">求案件列表</h2>
                <div class="filters c-filter-grid">
                    <div class="filter-group c-filter-group">
                        <span class="filter-label c-filter-label">时间</span>
                        <div class="chip-row c-chip-row">
                            <button class="chip c-chip active" data-range="all" type="button">全部</button>
                            <button class="chip c-chip" data-range="today" type="button">今天</button>
                            <button class="chip c-chip" data-range="yesterday" type="button">昨天</button>
                            <input id="date-picker" class="input c-input date-input" type="date" aria-label="选择日期">
                        </div>
                    </div>
                    <div class="filter-group c-filter-group">
                        <span class="filter-label c-filter-label">关键字</span>
                        <input id="keyword-input" class="input c-input search-input" type="search" placeholder="搜索案件标题、描述或细节">
                    </div>
                </div>
                <ul id="case-list" class="list c-list">
                </ul>
            </div>

            <div class="c-card">
                <h2 class="title c-panel-title">求案件详情</h2>
                <div id="case-detail" class="detail">
                    这是案件1的详细说明……ABCDEFG1234567890不想超出屏幕会自动换行。
                </div>
            </div>
        </section>

        <section class="c-card">
            <h2 class="title c-panel-title">内容编辑保存</h2>
            <div class="form">
                <div class="field">
                    <label class="label" for="name">人员名称</label>
                    <input id="name" class="input c-input" type="text" placeholder="请输入人员名称">
                </div>
                <div class="form-row">
                    <div class="field">
                        <label class="label" for="belong">所属</label>
                        <input id="belong" class="input c-input" type="text" placeholder="请输入所属部门或公司">
                    </div>
                    <div class="field">
                        <label class="label" for="nation">国籍</label>
                        <select id="nation" class="input c-input">
                            <option value="">请选择</option>
                            <option value="中国">中国</option>
                            <option value="日本">日本</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="field">
                        <label class="label" for="age">年龄</label>
                        <input id="age" class="input c-input" type="number" placeholder="例如：32">
                    </div>
                    <div class="field">
                        <label class="label" for="price">金额</label>
                        <input id="price" class="input c-input" type="text" placeholder="例如：￥50,000">
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="intro">介绍文</label>
                    <textarea id="intro" class="textarea c-input" placeholder="请输入人员介绍、技能或补充说明。"></textarea>
                </div>
                <div class="actions">
                    <button id="btn-reset" class="c-btn c-btn-ghost" type="button">清空</button>
                    <button id="btn-save" class="c-btn c-btn-primary" type="button">保存</button>
                </div>
            </div>
        </section>
    </div>

    <script>
        (function () {
            const cases = [
                {
                    id: 1,
                    title: '案件1标题',
                    desc: '案件1的简单说明 content',
                    detail: '这是案件1的详细说明……ABCDEFG1234567890不想超出屏幕会自动换行。',
                    date: '2025-12-01'
                },
                {
                    id: 2,
                    title: '案件2标题',
                    desc: '案件2的简单说明 content',
                    detail: '这是案件2的详细说明……ABCDEFG1234567890不想超出屏幕会自动换行。',
                    date: '2025-11-25'
                },
                {
                    id: 3,
                    title: '案件3标题',
                    desc: '案件3的简单说明 content',
                    detail: '这是案件3的详细说明……ABCDEFG1234567890不想超出屏幕会自动换行。',
                    date: '2025-11-20'
                },
                {
                    id: 4,
                    title: '案件4标题',
                    desc: '案件4的简单说明 content',
                    detail: '这是案件4的详细说明……ABCDEFG1234567890不想超出屏幕会自动换行。',
                    date: '2025-11-18'
                },
                {
                    id: 5,
                    title: '案件5标题',
                    desc: '案件5的简单说明 content',
                    detail: '这是案件5的详细说明……ABCDEFG1234567890不想超出屏幕会自动换行。',
                    date: '2025-11-12'
                }
            ];

            const list = document.getElementById('case-list');
            const detail = document.getElementById('case-detail');
            const keywordInput = document.getElementById('keyword-input');
            const datePicker = document.getElementById('date-picker');
            const dateButtons = Array.from(document.querySelectorAll('.chip[data-range]'));
            const inputs = ['name', 'belong', 'nation', 'age', 'price', 'intro'].map(id => document.getElementById(id));
            const resetBtn = document.getElementById('btn-reset');
            const saveBtn = document.getElementById('btn-save');
            const filters = {
                range: 'all',
                customDate: ''
            };

            const formatDate = (date) => date.toISOString().slice(0, 10);

            const renderList = (items) => {
                list.innerHTML = '';

                if (!items.length) {
                    const empty = document.createElement('li');
                    empty.className = 'empty';
                    empty.textContent = '暂无匹配的案件';
                    list.appendChild(empty);
                    detail.textContent = '暂无可显示的案件';
                    return;
                }

                items.forEach((item, index) => {
                    const li = document.createElement('li');
                    li.className = 'item' + (index === 0 ? ' active' : '');
                    li.dataset.detail = item.detail;
                    li.dataset.id = item.id;

                    const main = document.createElement('div');
                    main.className = 'item-main';

                    const title = document.createElement('div');
                    title.className = 'item-title';
                    title.textContent = item.title;

                    const desc = document.createElement('div');
                    desc.className = 'item-desc';
                    desc.textContent = item.desc;

                    const time = document.createElement('div');
                    time.className = 'item-time';
                    time.textContent = item.date;

                    main.appendChild(title);
                    main.appendChild(desc);
                    li.appendChild(main);
                    li.appendChild(time);
                    list.appendChild(li);
                });

                const first = list.querySelector('.item');
                if (first) {
                    detail.textContent = first.dataset.detail || '';
                }
            };

            const applyFilters = () => {
                const today = formatDate(new Date());
                const yesterdayDate = new Date();
                yesterdayDate.setDate(yesterdayDate.getDate() - 1);
                const yesterday = formatDate(yesterdayDate);

                const keyword = keywordInput.value.trim().toLowerCase();
                const targetDate = filters.range === 'today'
                    ? today
                    : filters.range === 'yesterday'
                        ? yesterday
                        : filters.range === 'custom'
                            ? filters.customDate
                            : '';

                const filtered = cases.filter(item => {
                    const matchKeyword = keyword
                        ? (item.title + item.desc + item.detail).toLowerCase().includes(keyword)
                        : true;
                    const matchDate = targetDate ? item.date === targetDate : true;
                    return matchKeyword && matchDate;
                });

                renderList(filtered);
            };

            list.addEventListener('click', (e) => {
                const item = e.target.closest('.item');
                if (!item) return;
                list.querySelectorAll('.item').forEach(li => li.classList.remove('active'));
                item.classList.add('active');
                detail.textContent = item.dataset.detail || '';
            });

            dateButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    dateButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    filters.range = btn.dataset.range;
                    filters.customDate = '';
                    datePicker.value = '';
                    datePicker.classList.remove('active');
                    applyFilters();
                });
            });

            datePicker.addEventListener('change', () => {
                if (datePicker.value) {
                    filters.range = 'custom';
                    filters.customDate = datePicker.value;
                    dateButtons.forEach(b => b.classList.remove('active'));
                    datePicker.classList.add('active');
                } else {
                    filters.range = 'all';
                    filters.customDate = '';
                    dateButtons.forEach(b => {
                        b.classList.toggle('active', b.dataset.range === 'all');
                    });
                    datePicker.classList.remove('active');
                }
                applyFilters();
            });

            keywordInput.addEventListener('input', () => {
                applyFilters();
            });

            resetBtn.addEventListener('click', () => {
                inputs.forEach(el => { el.value = ''; });
                inputs[0].focus();
            });

            saveBtn.addEventListener('click', () => {
                alert('内容已保存。');
            });

            renderList(cases);
        })();
    </script>
</body>
</html>
